<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <script src="https://code.jquery.com/jquery-3.7.1.js"
        integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/CustomEase.min.js"></script>
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1/bundled/lenis.min.js"></script>
    <title>Document</title>
</head>
<style>
    @import url('https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Libre+Barcode+39+Text&display=swap');
</style>

</style>

<body>
    <header class="header">
        <div class="inner">
            <div class="logo">sOphoMoRe</div>
            
            <div class="info">
                <div class="info-box">
                    <p>menu</p>
                </div>
            </div>
        </div><!-- inner -->
    </header>
    <section class="main">
        <div class="bg">
            <video autoplay muted loop>
               <source src="https://drive.google.com/uc?export=download&id=1NTE4uB9XmXBymu55yvzfK2QFIpAG82v1" type="video/mp4">
            </video>

        </div>
    </section>
    <section class="section-01">
        <div class="item-wrap">
            <div class="spin-disc">
                <div class="title">
                    <p>Artist of the Month</p>
                    <small>KAYTRANADA</small>
                </div><!-- title -->
                <div class="turn-table">
                    <img src="img/pngwing.com - 2024-10-07T004351.868.png">
                    <img class="disc" src="img/pngwing.com - 2024-10-06T225357.867.png">
                </div><!-- turn-table -->

                <div class="musicplayer">
                    <audio class="myaudio">
                        <source src="img/videoplayback.mp3">
                    </audio>
                    <button class="play"><i class='bx bx-play' ></i></button>
                    <button class="pause"><i class='bx bx-pause'></i></button>
                    <button class="stop"><i class='bx bx-stop'></i></button>

                   
                </div>
                
            </div><!-- spin-disc -->
            <div class="review">
                <div class="sub-title">
                    <span></span>
                </div>
                <div class="title">
                    <h1>THE</h1><img src="img/667e2f1f2aa8aa345d0719d9_ce-dark-icon.svg">
                    <h1>TIMELESS</h1>
                </div>
                <div class="comment">
                    <span>Some people have criticized this album for staying too snugly inside the lane that KAYTRANADA
                        has occupied since he broke out onto the scene nearly a decade ago.</span>
                </div>
                <div class="sub-comment">
                    <span>To those people, I pose the following question: if you had a super-distinct, super-robust,
                        super-successful sound, would you switch it up? More of the same is fine with me when it comes
                        to a producer who's rubbery bass hits and gooey synth melodies always leave me feeling lighter,
                        looser, and groovier.</span>
                </div>
                <div class="v-img">
                    <img src="img/kaytranada-timeless-Cover-Art.webp">
                </div>
            </div>
        </div><!-- item-wrap -->

    </section>
   <section class="section-02">
        <div class="item-wrap">
            <div class="main">
                <div class="text-box" data-aos="fade-left">
                    <div class="lolem"><span>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Porro eveniet quia quam nam, quo atque, consequuntur repellendus nobis fuga blanditiis vitae odit odio ab, quis sunt placeat id veniam enim?Lorem ipsum dolor sit amet consectetur, adipisicing elit. Porro eveniet quia quam nam, quo atque, consequuntur repellendus nobis fuga blanditiis vitae odit odio ab, quis sunt placeat id veniam enim?</span></div>
                    <p>COLDPLAY</p>
                    <p>Retires</p>
                </div>
                <div class="detail">
                    <span><i class='bx bx-left-arrow-alt'></i>dETAIL</span>
                </div>
            </div>
        </div>
   </section>

   <section class="section-03">
       <div class="item-wrap">
            <div class="title">
                    <h1 data-aos="fade-right">UPCO</h1><h1 data-aos="fade-left">MING</h1>
            </div>
        
            <div class="title">
                    <h1 data-aos="fade-right">MIX</h1><h1 data-aos="fade-left">TAPE</h1>
            </div>
            <div class="img">
                <img src="img/pngwing.com (44).png">
            </div>
            <div class="human">
                <img src="img/pngwing.com (45).png">
            </div>
            <div class="comment">
                <i class='bx bx-right-arrow-alt' ></i>
                <p>G-Eazy</p>
                <p>Gerald Earl Gillum</p>

            </div>
       </div>
    </section>

    <section class="section-04">
        <div class="item-wrap">
            <div class="title">
                <p>News</p>
            </div>
            <ul class="news-list">
                <li class="list-box"></li>
            </ul>
        </div>
    </section>

</body>

<script>

$(window).on('scroll',function(){
    if($(window).scrollTop()>=950){

    $('.header').css('color', 'black')
    } else {

    $('.header').css('color', 'white')
    }
})
   
AOS.init();

   gsap.registerPlugin(ScrollTrigger);

let getRatio = el => window.innerHeight / (window.innerHeight + el.offsetHeight);

gsap.utils.toArray("section").forEach((section, i) => {
    section.bg = section.querySelector(".bg video"); // 비디오 요소 선택

    // 비디오의 초기 투명도 설정
    gsap.set(section.bg, { opacity: 1 }); // 비디오를 처음부터 불투명하게 설정

    // 비디오의 시작 위치 설정
    gsap.fromTo(section.bg, {
        scale: 1.1, // 비디오를 약간 확대
        y: () => i ? -window.innerHeight * getRatio(section) : 0
    }, {
        scale: 1, // 원래 크기로 되돌림
        y: () => window.innerHeight * (1 - getRatio(section)), // 스크롤에 따라 이동
        ease: "none",
        scrollTrigger: {
            trigger: section,
            start: () => i ? "top bottom" : "top top",
            end: "bottom top",
            scrub: true,
            invalidateOnRefresh: true // 반응형 유지
        }
    });

    // 첫 번째 섹션을 제외한 나머지 섹션에만 opacity 애니메이션 설정
    if (i>0) {
        gsap.fromTo(section, {
            opacity: 0 // 처음에 투명하게
        }, {
            opacity: 1, // 스크롤할 때 불투명하게
            scrollTrigger: {
                trigger: section,
                start: "top bottom", // 섹션의 상단이 화면 하단에 닿을 때
                end: "bottom bottom",
                scrub: true,
                markers: true, // 디버깅을 위한 마커 표시
                invalidateOnRefresh: true, // 반응형 유지
                onLeave: () => gsap.to(section, { scale : 0.9 }), // 화면 밖으로 나가면 투명도 0으로
                onEnterBack: () => gsap.to(section, { scale : 1}), // 다시 들어오면 투명도 1로
                onEnter: () => gsap.to(section, { scale : 1}), // 다시 들어오면 투명도 1로
            }
        });
    }
});


// 디스크 애니메이션 설정
gsap.to(".disc", {
    scrollTrigger: {
        trigger: ".disc",
        toggleActions: "resume pause reset pause",
        start: "top 50%",
    },
    duration: 1500,
    rotate: 72000,
    ease: CustomEase.create("custom", "M0,0 C0.148,0.381 0.114,0.752 0.3,0.9 0.525,1.079 0.785,1.031 1,1.03"),
});

//오디오 설정
const playmusic = document.getElementsByClassName("play")[0]; // 첫 번째 플레이 버튼
const stop = document.getElementsByClassName("stop")[0]; // 첫 번째 정지 버튼
const pause = document.getElementsByClassName("pause")[0]; // 첫 번째 일시 정지 버튼
const audio = document.getElementsByClassName('myaudio')[0]; // 첫 번째 오디오 요소

// 재생 버튼 클릭 시 오디오 재생
playmusic.addEventListener("click", () => {
    audio.play();
});

// 일시 정지 버튼 클릭 시 오디오 일시 정지
pause.addEventListener("click", () => {
    audio.pause();
});

// 정지 버튼 클릭 시 오디오 정지 및 재생 위치 초기화
stop.addEventListener("click", () => {
    audio.pause();
    audio.currentTime = 0; // 재생 위치를 처음으로 되돌림
});

const lenis = new Lenis();

lenis.on('scroll', (e) => {
    console.log(e);
})

function raf(time) {
    lenis.raf(time)
    requestAnimationFrame(raf);
}

requestAnimationFrame(raf);
</script>
</html>
